{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////drone/src/packages/button/state/config.js","webpack:///./src/store/selectors.js","webpack:////drone/src/packages/utils/dom.js","webpack:////drone/src/packages/utils/sandbox.js","webpack:////drone/src/packages/button/actions/lifecycle.js","webpack:///./src/embed/config.js","webpack:///./src/embed/sandbox.js","webpack:///./src/embed/overlay.js","webpack:///./embed.js","webpack:////drone/src/packages/utils/predicates.js","webpack:////drone/src/packages/utils/helper.js","webpack:////drone/src/packages/button/state/theme.js","webpack:////drone/src/packages/button/config/index.js","webpack:////drone/src/packages/button/state/view.js","webpack:////drone/src/packages/button/state/finish.js","webpack:////drone/src/packages/button/state/runtime.js","webpack:////drone/src/packages/button/actions/types.js","webpack:///./src/embed/embed.mustache"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","1","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","handleActions","INIT","state","payload","size","color","format","style","headless","cover","prop","configSlice","propOr","clients","slices","config","theme","view","finish","feed","runtime","fontString","compose","weight","family","map","font","join","scope","themeSelectors","fonts","fontRegular","fontBold","fontCi","viewSelectors","finishSelectors","runtimeSelectors","findNode","selector","head","document","querySelectorAll","appendNode","curry","node","child","appendChild","setStyles","tag","attributes","attr","keys","attribute","attrs","el","forEach","removeStyles","removeProperty","getClasses","filter","identity","className","split","setAttributes","classes","uniq","concat","indexOf","setAttribute","iframe","element","cb","MutationObserver","observe","childList","addEventListener","seamless","scrolling","frameborder","height","createElement","sandboxWindow","sandboxDocument","inject","anchor","frame","setFrameSize","width","offsetWidth","content","sandbox","Promise","resolve","sdbxWindow","doc","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","open","write","close","onLoad","readyState","setTimeout","then","init","createAction","request","url","a","fetch","res","json","input","additional","Error","mergeDeepRight","entry","reference","BASE","buttonDom","embedButtonDom","version","VERSION","base","styles","STYLES","scripts","SCRIPTS","resizer","iframeResizerContentWindow","fullWidth","subscribeButton","iframeResizer","checkOrigin","log","sizeWidth","sizeHeight","maxHeight","innerHeight","overlayStyles","position","top","left","store","subscribe","getState","select","overlay","button","parseConfig","dispatch","overlayStyle","p1","p2","isUndefinedOrNull","x","undefined","isNil","createObject","specification","f","selectors","context","reduce","startsWith","q","str","endsWith","stripl","stripr","juxt","toUpper","tail","TOKENS","brand","brandDark","brandDarkest","brandLightest","shadeDark","shadeBase","contrast","alt","tokens","FONTS","ci","src","regular","bold","normalizeFont","type","path","extractFonts","getTokens","extractTokens","INITIAL_STATE","reducer","_","themeColors","themeFonts","language","SHOW_LIST","list","SHOW_OVERLAY","HIDE_OVERLAY","SHOW_FINISH_CARD","icon","install","title","link","os","rss","SET_LANGUAGE","SET_RUNTIME","browser","locale","platform","SET_VERSION","HIDE_LIST","HIDE_FINISH_CARD","H","T","Template","code","this","b","v","rs","pop","fl","partials","subs","render","arguments"],"mappings":"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","file":"embed.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([109,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { handleActions } from 'redux-actions'\nimport { prop } from 'ramda'\nimport { INIT } from '@podlove/button-actions/types'\n\nexport const INIT_STATE = {\n  size: 'big',\n  color: '#c90bd6',\n  format: 'cover',\n  style: 'filled',\n  headless: true,\n  cover: null\n}\n\nexport const reducer = handleActions(\n  { [INIT]: (state, { payload }) => ({ ...state, ...payload }) },\n  INIT_STATE\n)\n\nexport const color = prop('color')\nexport const cover = prop('cover')\nexport const format = prop('format')\nexport const size = prop('size')\nexport const style = prop('style')\nexport const headless = prop('headless')\n","import * as config from '@podlove/button-state/config'\nimport { selectors as viewSelectors } from '@podlove/button-state/view'\nimport { selectors as themeSelectors } from '@podlove/button-state/theme'\nimport { selectors as finishSelectors } from '@podlove/button-state/finish'\nimport { selectors as runtimeSelectors } from '@podlove/button-state/runtime'\nimport { propOr, compose } from 'ramda'\nimport { scope } from '@podlove/utils/helper'\n\nexport const configSlice = propOr({}, 'config')\nexport const metadataSlice = propOr({}, 'metadata')\nexport const viewSlice = propOr({}, 'view')\nexport const clients = propOr([], 'clients')\n\nexport const slices = {\n  config: propOr({}, 'config'),\n  theme: propOr({}, 'theme'),\n  view: propOr({}, 'view'),\n  finish: propOr({}, 'finish'),\n  feed: propOr({}, 'feed'),\n  runtime: propOr({}, 'runtime')\n}\n\nexport const selectColor = compose(config.color, configSlice)\nexport const selectCover = compose(config.cover, configSlice)\nexport const selectFormat = compose(config.format, configSlice)\nexport const selectSize = compose(config.size, configSlice)\nexport const selectStyle = compose(config.style, configSlice)\n\nexport const headless = compose(config.headless, configSlice)\n\nconst fontString = ({ weight = 300, family = [] } = {}) => ({\n  'font-family': family.map(font => `\"${font}\"`).join(', '),\n  'font-weight': weight\n})\n\nexport const theme = {\n  ...scope(themeSelectors, slices.theme),\n  fonts: compose(\n    state => [\n      themeSelectors.fontRegular(state),\n      themeSelectors.fontBold(state),\n      themeSelectors.fontCi(state)\n    ],\n    slices.theme\n  ),\n  fontRegular: compose(fontString, themeSelectors.fontRegular, slices.theme),\n  fontBold: compose(fontString, themeSelectors.fontBold, slices.theme),\n  fontCi: compose(fontString, themeSelectors.fontCi, slices.theme)\n}\n\nexport const view = scope(viewSelectors, slices.view)\n\nexport const finish = scope(finishSelectors, slices.finish)\n\nexport const runtime = scope(runtimeSelectors, slices.runtime)\n\nexport const feed = slices.feed\n","import { curry, compose, uniq, concat, join, filter, identity, head } from 'ramda'\nimport DOMPurify from 'dompurify'\n\nexport const findNode = selector =>\n  typeof selector === 'string' ? head(document.querySelectorAll(selector)) : selector\n\nexport const createNode = tag => document.createElement(tag)\nexport const appendNode = curry((node, child) => {\n  node.appendChild(child)\n\n  return child\n})\n\nexport const tag = curry((tag, value = '', attributes) => {\n  let attr = Object.keys(attributes || {})\n    .map(attribute => ` ${attribute}=\"${attributes[attribute]}\"`)\n    .join('')\n  return `<${tag}${attr}>${value}</${tag}>`\n})\n\nexport const setStyles = curry((attrs, el) => {\n  Object.keys(attrs).forEach(property => {\n    el.style[property] = attrs[property]\n  })\n\n  return el\n})\n\nexport const removeStyles = curry((attrs, el) => {\n  ;(attrs || []).forEach(attr => {\n    el.style.removeProperty(attr)\n  })\n})\n\nexport const getClasses = compose(filter(identity), el => el.className.split(' '))\n\nexport const hasOverflow = el => el.scrollWidth > el.clientWidth\n\nexport const addClasses = curry((classes = [], el) => {\n  el.className = compose(join(' '), uniq, concat(classes), getClasses)(el)\n\n  return el\n})\n\nexport const removeClasses = curry((classes = [], el) => {\n  el.className = compose(\n    join(' '),\n    filter(className => !~classes.indexOf(className)),\n    getClasses\n  )(el)\n\n  return el\n})\n\nexport const sanitize = input => {\n  if (!input || typeof window === 'undefined') {\n    return input\n  }\n\n  const purify = DOMPurify(window)\n\n  // Adds target=\"_blank\" to parsed links\n  purify.addHook('afterSanitizeElements', node => {\n    if (node.tagName === 'A') {\n      node.setAttribute('target', '_blank')\n    }\n\n    return node\n  })\n\n  return purify.sanitize(input, {\n    ALLOWED_TAGS: ['b', 'i', 'em', 'strong', 'a', 'br', 'p', 'ul', 'li', 'ol', 'br'],\n    ALLOWED_ATTR: ['href', 'target']\n  })\n}\n\nexport const setAttributes = curry((attrs, el) => {\n  Object.keys(attrs).forEach(property => {\n    el.setAttribute(property, attrs[property])\n  })\n\n  return el\n})\n\nexport const resizeObserver = curry((element, cb) => {\n  const observer = new MutationObserver(cb)\n\n  observer.observe(element, { childList: true })\n  window.addEventListener('resize', cb)\n})\n","import { compose, curry, prop } from 'ramda'\nimport { createNode, appendNode, setAttributes, setStyles } from './dom'\n\nconst iframe = compose(\n  setAttributes({\n    'min-width': '100%',\n    seamless: '',\n    scrolling: 'no',\n    frameborder: '0'\n  }),\n  setStyles({\n    height: 'auto'\n  }),\n  createNode\n)\n\nconst createFrame = () => new Promise(resolve => resolve(iframe('iframe')))\n\nexport const sandboxWindow = prop('contentWindow')\nexport const sandboxDocument = compose(prop('document'), sandboxWindow)\n\nexport const resize = curry((anchor, frame) => {\n  const setFrameSize = () => setAttributes({ width: anchor.offsetWidth }, frame)\n\n  setFrameSize()\n\n  // Reset the width on window load\n  window.addEventListener('load', setFrameSize)\n\n  // Reset the width on viewport resize\n  window.addEventListener('resize', setFrameSize)\n\n  return frame\n})\n\nconst inject = curry(\n  (content, sandbox) =>\n    new Promise(resolve => {\n      const sdbxWindow = sandboxWindow(sandbox)\n      const doc = sandboxDocument(sandbox)\n\n      // transfer global window functions to sandbox\n      if (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) {\n        sdbxWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ =\n          window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      }\n\n      const onLoad = () => {\n        if (doc.readyState === 'complete') {\n          return resolve(sandbox)\n        }\n\n        return setTimeout(onLoad, 150)\n      }\n\n      doc.open()\n      doc.write(content)\n      doc.close()\n\n      onLoad()\n    })\n)\n\nexport const sandbox = curry((anchor, content) =>\n  createFrame()\n    .then(appendNode(anchor))\n    .then(inject(content))\n)\n","import { createAction } from 'redux-actions'\nimport { INIT } from './types'\n\nexport const init = createAction(INIT)\n","/* eslint-disable no-console */\nimport { mergeDeepRight } from 'ramda'\n\nconst request = async url => fetch(url).then(res => res.json())\n\nexport default async (input = {}, additional = {}) => {\n  let config\n\n  try {\n    config = typeof input === 'string' ? await request(input) : input\n  } catch (err) {\n    throw new Error(`Couldn't parse configuration \"${input}\"`)\n  }\n\n  return mergeDeepRight(config, additional)\n}\n","/* global BASE, STYLES, SCRIPTS, MODE, VERSION */\nimport { propOr } from 'ramda'\nimport { sandbox } from '@podlove/utils/sandbox'\nimport { iframeResizer } from 'iframe-resizer'\n\n// eslint-disable-next-line\nimport iframeResizerContentWindow from 'raw-loader!iframe-resizer/js/iframeResizer.contentWindow.min.js'\nimport embedButtonDom from './embed.mustache'\n\nexport default async (config, entry) => {\n  const reference = MODE === 'cdn' ? BASE : propOr(BASE, 'base', config)\n\n  const buttonDom = embedButtonDom({\n    version: VERSION,\n    base: reference,\n    styles: STYLES,\n    scripts: SCRIPTS,\n    resizer: iframeResizerContentWindow\n  })\n\n  const subscribeButton = await sandbox(entry, buttonDom, { fullWidth: false })\n\n  iframeResizer(\n    {\n      checkOrigin: false,\n      log: false,\n      sizeWidth: true,\n      sizeHeight: true,\n      maxHeight: window.innerHeight - 20\n    },\n    subscribeButton\n  )\n\n  return subscribeButton\n}\n","import { setStyles, removeStyles } from '@podlove/utils/dom'\nimport * as select from 'store/selectors'\n\nconst overlayStyles = {\n  position: 'fixed',\n  width: '100%',\n  height: '100%',\n  top: 0,\n  left: 0\n}\n\nexport default (store, entry) => {\n  store.subscribe(() => {\n    const state = store.getState()\n    if (select.view.overlay(state)) {\n      setStyles(overlayStyles, entry)\n    } else {\n      removeStyles(Object.keys(overlayStyles), entry)\n    }\n  })\n}\n","import { prop } from 'ramda'\nimport { findNode } from '@podlove/utils/dom'\nimport { sandboxWindow } from '@podlove/utils/sandbox'\n\nimport { init } from '@podlove/button-actions/lifecycle'\nimport parseConfig from './src/embed/config'\nimport sandbox from './src/embed/sandbox'\nimport overlayStyle from './src/embed/overlay'\n\nasync function embed(selector, button, additional) {\n  const config = await parseConfig(button, additional)\n  const entry = findNode(selector)\n  const subscribeButton = await sandbox(config, entry)\n\n  const store = prop('PSB_STORE', sandboxWindow(subscribeButton))\n\n  store.dispatch(init(config))\n  overlayStyle(store, entry)\n\n  return store\n}\n\nif (typeof window['podloveSubscribeButton'] === 'undefined') {\n  window['podloveSubscribeButton'] = embed\n}\n","import { isNil } from 'ramda'\n\nexport const or = (p1, p2) => x => p1(x) || p2(x)\nexport const and = (p1, p2) => x => p1(x) && p2(x)\nexport const not = p => x => !p(x)\nexport const isUndefined = x => x === undefined\n\nexport const isUndefinedOrNull = or(isUndefined, isNil)\nexport const isDefinedAndNotNull = not(isUndefinedOrNull)\n","import { curry, map, compose, join, toUpper, juxt, head, tail, identity } from 'ramda'\nimport { isUndefinedOrNull } from './predicates'\n\n/**\n * Collection of functional helpers\n */\n\nexport const inAnimationFrame = func => (...args) =>\n  window.requestAnimationFrame(() => func.apply(null, args))\n\nexport const asyncAnimation = func => (...args) =>\n  new Promise(resolve => {\n    window.requestAnimationFrame(resolve(func.apply(null, args)))\n  })\n\nexport const callWith = (...args) => func => func.apply(null, args)\n\n// Math helpers\nexport const toInt = (input = 0) => (isNaN(parseInt(input, 10)) ? 0 : parseInt(input, 10))\nexport const toFloat = (input = 0) => (isNaN(parseFloat(input)) ? 0 : parseFloat(input))\n\n// Functional Helper\nexport const fallbackTo = fallback => value => (isUndefinedOrNull(value) ? fallback : value)\nexport const createObject = curry((specification, value) => map(f => f(value), specification))\nexport const scope = curry((selectors = {}, context = identity) =>\n  Object.keys(selectors).reduce(\n    (result, key) => ({\n      ...result,\n      [key]: compose(selectors[key], context)\n    }),\n    {}\n  )\n)\nexport const startsWith = curry((q, str) => str.startsWith(q))\nexport const endsWith = curry((q, str) => str.endsWith(q))\nexport const stripl = curry((q, str) => (startsWith(q, str) ? str.slice(q.length) : str))\nexport const stripr = curry((q, str) =>\n  endsWith(q, str) ? str.slice(0, str.length - q.length) : str\n)\nexport const strip = curry((q, str) => stripl(q, stripr(q, str)))\nexport const capitalize = compose(join(''), juxt([compose(toUpper, head), tail]))\n","import { prop, compose, propOr, path } from 'ramda'\nimport { handleActions } from 'redux-actions'\nimport { createObject } from '@podlove/utils/helper'\nimport { INIT } from '@podlove/button-actions/types'\n\nconst theme = propOr({}, 'theme')\n\nconst TOKENS = {\n  brand: '#E64415',\n  brandDark: '#235973',\n  brandDarkest: '#1A3A4A',\n  brandLightest: '#E9F1F5',\n  shadeDark: '#807E7C',\n  shadeBase: '#807E7C',\n  contrast: '#000',\n  alt: '#fff'\n}\n\nexport const tokens = {\n  brand: propOr(TOKENS.brand, 'brand'),\n  brandDark: propOr(TOKENS.brandDark, 'brandDark'),\n  brandDarkest: propOr(TOKENS.brandDarkest, 'brandDarkest'),\n  brandLightest: propOr(TOKENS.brandLightest, 'brandLightest'),\n  shadeDark: propOr(TOKENS.shadeDark, 'shadeDark'),\n  shadeBase: propOr(TOKENS.shadeBase, 'shadeBase'),\n  contrast: propOr(TOKENS.contrast, 'contrast'),\n  alt: propOr(TOKENS.alt, 'alt')\n}\n\nexport const FONTS = {\n  ci: {\n    name: 'ci',\n    family: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica',\n      'Arial',\n      'sans-serif',\n      'Apple Color Emoji',\n      'Segoe UI Emoji\", \"Segoe UI Symbol'\n    ],\n    src: [],\n    weight: 800\n  },\n  regular: {\n    name: 'regular',\n    family: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica',\n      'Arial',\n      'sans-serif',\n      'Apple Color Emoji',\n      'Segoe UI Emoji\", \"Segoe UI Symbol'\n    ],\n    src: [],\n    weight: 300\n  },\n  bold: {\n    name: 'bold',\n    family: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica',\n      'Arial',\n      'sans-serif',\n      'Apple Color Emoji',\n      'Segoe UI Emoji\", \"Segoe UI Symbol'\n    ],\n    src: [],\n    weight: 700\n  }\n}\n\nconst normalizeFont = type =>\n  createObject({\n    family: propOr(path([type, 'family'], FONTS), 'family'),\n    weight: propOr(path([type, 'weight'], FONTS), 'weight'),\n    name: propOr(path([type, 'name'], FONTS), 'name'),\n    src: propOr([], 'src')\n  })\n\nconst extractFonts = createObject({\n  regular: compose(\n    normalizeFont('regular'),\n    propOr(FONTS.regular, 'regular'),\n    propOr({}, 'fonts'),\n    theme\n  ),\n  bold: compose(normalizeFont('bold'), propOr(FONTS.bold, 'bold'), propOr({}, 'fonts'), theme),\n  ci: compose(normalizeFont('ci'), propOr(FONTS.ci, 'ci'), propOr({}, 'fonts'), theme)\n})\n\nconst getTokens = propOr({}, 'tokens')\n\nconst extractTokens = createObject({\n  brand: compose(tokens.brand, getTokens, theme),\n  brandDark: compose(tokens.brandDark, getTokens, theme),\n  brandDarkest: compose(tokens.brandDarkest, getTokens, theme),\n  brandLightest: compose(tokens.brandLightest, getTokens, theme),\n  shadeDark: compose(tokens.shadeDark, getTokens, theme),\n  shadeBase: compose(tokens.shadeBase, getTokens, theme),\n  contrast: compose(tokens.contrast, getTokens, theme),\n  alt: compose(tokens.alt, getTokens, theme)\n})\n\nexport const INITIAL_STATE = {\n  tokens: TOKENS,\n  fonts: FONTS\n}\n\nexport const reducer = handleActions(\n  {\n    [INIT]: (_, { payload }) => ({\n      tokens: extractTokens(payload),\n      fonts: extractFonts(payload)\n    })\n  },\n  INITIAL_STATE\n)\n\nconst themeColors = propOr({}, 'tokens')\nconst themeFonts = propOr({}, 'fonts')\n\nexport const selectors = {\n  brand: compose(prop('brand'), themeColors),\n  brandDark: compose(prop('brandDark'), themeColors),\n  brandDarkest: compose(prop('brandDarkest'), themeColors),\n  brandLightest: compose(prop('brandLightest'), themeColors),\n  shadeDark: compose(prop('shadeDark'), themeColors),\n  shadeBase: compose(prop('shadeBase'), themeColors),\n  contrast: compose(prop('contrast'), themeColors),\n  alt: compose(prop('alt'), themeColors),\n  fontRegular: compose(prop('regular'), themeFonts),\n  fontBold: compose(prop('bold'), themeFonts),\n  fontCi: compose(prop('ci'), themeFonts)\n}\n","import { compose, prop, propOr } from 'ramda'\n\nexport const feed = prop('feed')\nexport const clients = propOr([], 'clients')\nexport const theme = propOr({}, 'theme')\n\nexport const runtime = propOr({}, 'runtime')\n\nexport const language = compose(prop('language'), runtime)\n","import { prop } from 'ramda'\nimport { handleActions } from 'redux-actions'\n\nimport {\n  SHOW_OVERLAY,\n  HIDE_OVERLAY,\n  SHOW_LIST,\n  SHOW_FINISH_CARD\n} from '@podlove/button-actions/types'\n\nexport const INITIAL_STATE = {\n  overlay: false,\n  finish: false,\n  list: true\n}\n\nexport const reducer = handleActions(\n  {\n    [SHOW_LIST]: state => ({ ...state, finish: false, list: true }),\n    [SHOW_OVERLAY]: state => ({ ...state, overlay: true }),\n    [HIDE_OVERLAY]: state => ({ ...state, overlay: false, finish: false, list: true }),\n    [SHOW_FINISH_CARD]: state => ({ ...state, list: false, finish: true })\n  },\n  INITIAL_STATE\n)\n\nexport const selectors = {\n  overlay: prop('overlay'),\n  finish: prop('finish'),\n  list: prop('list')\n}\n","import { prop } from 'ramda'\nimport { handleActions } from 'redux-actions'\n\nimport { HIDE_OVERLAY, SHOW_FINISH_CARD } from '@podlove/button-actions/types'\n\nexport const INITIAL_STATE = {\n  icon: null,\n  install: null,\n  title: null,\n  link: null,\n  os: null,\n  rss: null,\n  type: null\n}\n\nexport const reducer = handleActions(\n  {\n    [SHOW_FINISH_CARD]: (_, { payload }) => payload,\n    [HIDE_OVERLAY]: () => INITIAL_STATE\n  },\n  INITIAL_STATE\n)\n\nexport const selectors = {\n  overlay: prop('install'),\n  finish: prop('title'),\n  icon: prop('icon'),\n  link: prop('link'),\n  os: prop('os'),\n  rss: prop('rss'),\n  type: prop('type'),\n  install: prop('install')\n}\n","import { handleActions } from 'redux-actions'\nimport { propOr, prop } from 'ramda'\nimport { language } from '@podlove/button-config'\n\nimport { INIT, SET_LANGUAGE, SET_RUNTIME, SET_VERSION } from '@podlove/button-actions/types'\n\nexport const INITIAL_STATE = {\n  language: 'en',\n  browser: null,\n  locale: null,\n  platform: null,\n  version: null\n}\n\nexport const reducer = handleActions(\n  {\n    [SET_LANGUAGE]: (state, { payload }) => ({\n      ...state,\n      language: payload\n    }),\n    [SET_RUNTIME]: (state, { payload }) => ({\n      ...state,\n      browser: propOr(null, 'browser', payload),\n      locale: propOr(null, 'locale', payload),\n      platform: propOr(null, 'platform', payload),\n      language: propOr(null, 'language', payload)\n    }),\n    [SET_VERSION]: (state, { payload }) => ({\n      ...state,\n      version: payload\n    }),\n    [INIT]: (state, { payload }) => ({\n      ...state,\n      language: language(payload) || state.language\n    })\n  },\n  INITIAL_STATE\n)\n\nexport const selectors = {\n  language: prop('language'),\n  platform: prop('platform'),\n  locale: prop('locale'),\n  version: prop('version')\n}\n","export const PREFIX = `BUTTON`\n\nconst type = name => `${PREFIX}_${name}`\n\nexport const INIT = type('INIT')\n\nexport const SHOW_LIST = type('SHOW_LIST')\nexport const HIDE_LIST = type('HIDE_LIST')\n\nexport const SHOW_OVERLAY = type('SHOW_OVERLAY')\nexport const HIDE_OVERLAY = type('HIDE_OVERLAY')\n\nexport const SHOW_FINISH_CARD = type('SHOW_FINISH_CARD')\nexport const HIDE_FINISH_CARD = type('HIDE_FINISH_CARD')\n\nexport const SET_RUNTIME = type('SET_RUNTIME')\nexport const SET_LANGUAGE = type('SET_LANGUAGE')\nexport const SET_VERSION = type('SET_VERSION')\n","var H = require(\"hogan.js\");\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<script type=\\\"text/javascript\\\">window.resourceBaseUrl = '\");t.b(t.v(t.f(\"base\",c,p,0)));t.b(\"';</script><div id=\\\"subscribe-button\\\"><subscribe-button></subscribe-button></div> \");if(t.s(t.f(\"styles\",c,p,1),c,p,0,160,214,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\" <link rel=\\\"stylesheet\\\" href=\\\"\");t.b(t.v(t.f(\"base\",c,p,0)));t.b(t.v(t.d(\".\",c,p,0)));t.b(\".css\\\"> \");});c.pop();}t.b(\" \");if(t.s(t.f(\"scripts\",c,p,1),c,p,0,238,307,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\" <script type=\\\"text/javascript\\\" src=\\\"\");t.b(t.v(t.f(\"base\",c,p,0)));t.b(t.v(t.d(\".\",c,p,0)));t.b(\".js\\\"></script> \");});c.pop();}t.b(\" <script>window.iFrameResizer = {\");t.b(\"\\n\" + i);t.b(\"    widthCalculationMethod: function () {\");t.b(\"\\n\" + i);t.b(\"      if (document.getElementById('breakout')) {\");t.b(\"\\n\" + i);t.b(\"        return window.parent.innerWidth\");t.b(\"\\n\" + i);t.b(\"      }\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"      return document.getElementById('subscribe-button').offsetWidth\");t.b(\"\\n\" + i);t.b(\"    },\");t.b(\"\\n\" + i);t.b(\"    heightCalculationMethod: function () {\");t.b(\"\\n\" + i);t.b(\"      if (document.getElementById('breakout')) {\");t.b(\"\\n\" + i);t.b(\"        return window.parent.innerHeight\");t.b(\"\\n\" + i);t.b(\"      }\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"      return document.getElementById('subscribe-button').offsetHeight\");t.b(\"\\n\" + i);t.b(\"    }\");t.b(\"\\n\" + i);t.b(\"  } \");t.b(t.t(t.f(\"resizer\",c,p,0)));t.b(\"</script><style>#subscribe-button {\");t.b(\"\\n\" + i);t.b(\"    display: inline-block;\");t.b(\"\\n\" + i);t.b(\"  }</style>\");return t.fl(); },partials: {}, subs: {  }}, \"<script type=\\\"text/javascript\\\">window.resourceBaseUrl = '{{ base }}';</script><div id=\\\"subscribe-button\\\"><subscribe-button></subscribe-button></div> {{#styles}} <link rel=\\\"stylesheet\\\" href=\\\"{{ base }}{{ . }}.css\\\"> {{/styles}} {{#scripts}} <script type=\\\"text/javascript\\\" src=\\\"{{ base }}{{ . }}.js\\\"></script> {{/scripts}} <script>window.iFrameResizer = {\\n    widthCalculationMethod: function () {\\n      if (document.getElementById('breakout')) {\\n        return window.parent.innerWidth\\n      }\\n\\n      return document.getElementById('subscribe-button').offsetWidth\\n    },\\n    heightCalculationMethod: function () {\\n      if (document.getElementById('breakout')) {\\n        return window.parent.innerHeight\\n      }\\n\\n      return document.getElementById('subscribe-button').offsetHeight\\n    }\\n  } {{{ resizer }}}</script><style>#subscribe-button {\\n    display: inline-block;\\n  }</style>\", H);return T.render.apply(T, arguments); };"],"sourceRoot":""}